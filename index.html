<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>New York City Crashes and Collisions</title>
	<script type='text/javascript' src='utility/jquery-1.6.2.min.js'></script>
	<script type="text/javascript" src="../d3/d3.js"></script>
	        <script type="text/javascript" src="utils/utils.js"></script> 
	        <script type="text/javascript" src="utility/jquery.tipsy.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.js"></script>
        <link href="tipsy.css" rel="stylesheet" type="text/css" />
 		<link rel="stylesheet" type="text/css" href="style.css">

	<style type="text/css">



		.axis path,
		.axis line {
			fill: none;
			stroke: black;
			shape-rendering: crispEdges;
		}

		.axis text {
			font-family: sans-serif;
			font-size: 11px;
		}
	</style>
</head>

<body bgcolor="#e5f4f0">
	<h1 class ='center_text'>Car crashes and collisions in New York City</h1>

	<h2 class='center_text'>Welcome!</h2>
	<p class='center_text'>The purpose of this project is to investigate the vehicle crashes and collisions happening in New York City in the time period from July 1st 2012 to April 24th 2017. The main focus of this website is to show how time and place influences what type of crash is most likely to occur.
In the dataset, there are many different types of crashes, but this website focuses on the five following types: Alcohol Involvement, Traffic Control Disregarded, Fatigued/Drowsy, Turning Improperly and Unsafe Speed. These were chosen as they seem to be the most interesting types to analyze. Below you can download the dataset and watch the video leading up to creating this project.
	<br>
	<br>			
		<a href="https://data.cityofnewyork.us/api/views/h9gi-nx95/rows.csv?accessType=DOWNLOAD">
			download dataset
		</a>
	<br>
	<br>
	

	<iframe width="560" height="315" src="https://www.youtube.com/embed/WbB6ZJFtDfg" frameborder="0" allowfullscreen></iframe>
	<br>
	</p>
	<div>
		<h2 class='center_text'>Map of accidents</h2>
		<h3 class='center_text'>Accidents and injuries</h3>
		<p class='center_text'> In this first part the amount of crashes and collisions are visualized using a map, where each dot corresponds to a car crash or collision. Red dots represents accidents where one or more involved parties were injured and the yellow dots are accidents, where none of the involved parties were injured. You can use the buttons below to choose between the five different types of accidents to see which accidents are the most frequent and which are the most dangerous. </p>

		<div id='map'></div>
		<div class='buttons' id ="buttons">
    		<button class='button_active' id="button2" value=2> Fatigued/Drowsy </button>
        	<button class='button' id="button3" value=3> Unsafe Speed </button>
        	<button class='button' id="button4" value=4> Turning Improperly </button>
        	<button class='button' id="button5" value=5> Traffic Control Disregarded </button>
        	<button class='button' id="button6" value=6> Alcohol Involvement </button>
    	</div>
		<script type="text/javascript" src="injury_map.js"></script>

		<h3 class='center_text'>Key areas for accidents</h3>
		<p class='center_text'> This map shows you the different areas where accident occurs. The different areas have been found using the K-means algorithm. The size of the circle represents how spread out the accidents are, where a larger cirlce means the accidents are more spread out. The opacity shows you how many accidents there are so the more transparent the circle is the less accidents is happening in this area. Hover over the cirlces to see how many accidents is happening in the area and how spread out they are.</p>
		<div id='map2'></div>
		<div class='c_buttons' id ="c_buttons">
    		<button class='c_button_active' id="c_button2" value=2> Fatigued/Drowsy </button>
        	<button class='c_button' id="c_button3" value=3> Unsafe Speed </button>
        	<button class='c_button' id="c_button4" value=4> Turning Improperly </button>
        	<button class='c_button' id="c_button5" value=5> Traffic Control Disregarded </button>
        	<button class='c_button' id="c_button6" value=6> Alcohol Involvement </button>
    	</div>
		<script type="text/javascript" src="minimal_map2.js"></script>
		<h2 class='center_text'>Accidents at all hours of the day<h2>

		<h3 class='center_text'>Accidents dependent on time</h3>

		<p class='center_text'> The second part is about how the amount of accidents is related to which hour of the day it is. In the first plots below, the number of accidents are shown as red dots and the blue line represents a linear regression, which shows the overall progress over time.  Use the buttons below to switch between the five different types of accidents to see, which are more likely to happen at different hours of the day.</p>

		<p class='center_text'>
			<img id="lin_reg" src='data/reg_images/linDrowsy.png' style="width:600px" align="middle">
			<br>
			<div class='c_buttons' id ="c_buttons">
				<button onclick="document.getElementById('lin_reg').src='data/reg_images/linDrowsy.png'">Fatigued/Drowsy</button>
				<button onclick="document.getElementById('lin_reg').src='data/reg_images/linUnsafe Speed.png'">Unsafe Speed</button>
				<button onclick="document.getElementById('lin_reg').src='data/reg_images/linTurning Improperly.png'">Turning Improperly</button>
				<button onclick="document.getElementById('lin_reg').src='data/reg_images/linTraffic Control Disregarded.png'">Traffic Control Disregarded</button>
				<button onclick="document.getElementById('lin_reg').src='data/reg_images/linAlcohol Involvement.png'">Alcohol Involvement</button>
			<div/>
		</p>

		<h3 class='center_text'>Accidents dependent on time and other accidents</h3>

		<p class='center_text'> In the 3D plots below, the number of accidents of one type is shown as a red dot. The blue plane represents a multiple linear regression, which takes both the hours of the day into account, but also the total amount of crashes regardless of the type.</p>

		<p>
			<img id="mul_reg" src='data/reg_images/mulDrowsy.png' style="width:600px" align="middle">
			<br>
			<div class='c_buttons' id ="c_buttons">
				<button onclick="document.getElementById('mul_reg').src='data/reg_images/mulDrowsy.png'">Fatigued/Drowsy</button>
				<button onclick="document.getElementById('mul_reg').src='data/reg_images/mulUnsafe Speed.png'">Unsafe Speed</button>
				<button onclick="document.getElementById('mul_reg').src='data/reg_images/mulTurning Improperly.png'">Turning Improperly</button>
				<button onclick="document.getElementById('mul_reg').src='data/reg_images/mulTraffic Control Disregarded.png'">Traffic Control Disregarded</button>
				<button onclick="document.getElementById('mul_reg').src='data/reg_images/mulAlcohol Involvement.png'">Alcohol Involvement</button>
			<div/>
		</p>

		


	</div>
	<br>
	<br>
	<br>
	<br>
	<br>

	
		</body>
		</html>